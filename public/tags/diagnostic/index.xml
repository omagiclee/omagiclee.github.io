<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Diagnostic on omagiclee</title>
    <link>http://localhost:1313/tags/diagnostic/</link>
    <description>Recent content in Diagnostic on omagiclee</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 27 Jan 2025 10:00:00 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/diagnostic/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Mermaid 详细诊断</title>
      <link>http://localhost:1313/posts/mermaid-diagnostic/</link>
      <pubDate>Mon, 27 Jan 2025 10:00:00 +0800</pubDate>
      <guid>http://localhost:1313/posts/mermaid-diagnostic/</guid>
      <description>&lt;h1 id=&#34;mermaid-详细诊断&#34;&gt;Mermaid 详细诊断&lt;/h1&gt;&#xA;&lt;h2 id=&#34;环境检查&#34;&gt;环境检查&lt;/h2&gt;&#xA;&lt;script&gt;&#xA;document.addEventListener(&#39;DOMContentLoaded&#39;, function() {&#xA;    const diagnosticDiv = document.getElementById(&#39;diagnostic-info&#39;);&#xA;    &#xA;    // 检查环境变量&#xA;    const envInfo = {&#xA;        userAgent: navigator.userAgent,&#xA;        timestamp: new Date().toISOString(),&#xA;        mermaidLoaded: typeof mermaid !== &#39;undefined&#39;,&#xA;        mermaidType: typeof mermaid,&#xA;        windowMermaid: typeof window.mermaid !== &#39;undefined&#39;&#xA;    };&#xA;    &#xA;    // 检查 mermaid 对象&#xA;    let mermaidInfo = {};&#xA;    if (typeof mermaid !== &#39;undefined&#39;) {&#xA;        mermaidInfo = {&#xA;            keys: Object.keys(mermaid),&#xA;            hasVersion: &#39;version&#39; in mermaid,&#xA;            version: mermaid.version || &#39;undefined&#39;,&#xA;            hasDefault: &#39;default&#39; in mermaid,&#xA;            defaultVersion: mermaid.default?.version || &#39;undefined&#39;&#xA;        };&#xA;    }&#xA;    &#xA;    // 检查网络请求&#xA;    const scripts = Array.from(document.querySelectorAll(&#39;script[src*=&#34;mermaid&#34;]&#39;));&#xA;    const mermaidScripts = scripts.map(script =&gt; script.src);&#xA;    &#xA;    // 显示诊断信息&#xA;    diagnosticDiv.innerHTML = `&#xA;        &lt;div style=&#34;background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;&#34;&gt;&#xA;            &lt;h3&gt;🔍 诊断结果&lt;/h3&gt;&#xA;            &#xA;            &lt;h4&gt;环境信息&lt;/h4&gt;&#xA;            &lt;ul&gt;&#xA;                &lt;li&gt;&lt;strong&gt;Mermaid 已加载：&lt;/strong&gt; ${envInfo.mermaidLoaded ? &#39;✅ 是&#39; : &#39;❌ 否&#39;}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;Mermaid 类型：&lt;/strong&gt; ${envInfo.mermaidType}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;Window Mermaid：&lt;/strong&gt; ${envInfo.windowMermaid ? &#39;✅ 是&#39; : &#39;❌ 否&#39;}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;时间戳：&lt;/strong&gt; ${envInfo.timestamp}&lt;/li&gt;&#xA;            &lt;/ul&gt;&#xA;            &#xA;            ${envInfo.mermaidLoaded ? `&#xA;            &lt;h4&gt;Mermaid 对象信息&lt;/h4&gt;&#xA;            &lt;ul&gt;&#xA;                &lt;li&gt;&lt;strong&gt;属性列表：&lt;/strong&gt; ${mermaidInfo.keys.join(&#39;, &#39;)}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;有 version 属性：&lt;/strong&gt; ${mermaidInfo.hasVersion ? &#39;✅ 是&#39; : &#39;❌ 否&#39;}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;Version 值：&lt;/strong&gt; ${mermaidInfo.version}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;有 default 属性：&lt;/strong&gt; ${mermaidInfo.hasDefault ? &#39;✅ 是&#39; : &#39;❌ 否&#39;}&lt;/li&gt;&#xA;                &lt;li&gt;&lt;strong&gt;Default Version：&lt;/strong&gt; ${mermaidInfo.defaultVersion}&lt;/li&gt;&#xA;            &lt;/ul&gt;&#xA;            ` : &#39;&#39;}&#xA;            &#xA;            &lt;h4&gt;加载的 Mermaid 脚本&lt;/h4&gt;&#xA;            ${mermaidScripts.length &gt; 0 ? &#xA;                `&lt;ul&gt;${mermaidScripts.map(src =&gt; `&lt;li&gt;&lt;code&gt;${src}&lt;/code&gt;&lt;/li&gt;`).join(&#39;&#39;)}&lt;/ul&gt;` : &#xA;                &#39;&lt;p&gt;❌ 未找到 Mermaid 脚本&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
